// <!-- saved from url=(0028)https://smblott.org/keyboard.js on 2019/08/08 -->
// modified by gdh1995
// Generated by CoffeeScript 1.9.3
(function() {
  var count, event, i, instantiateHtmlTemplate, len, n, ref;

  n = 25;

  count = 0;

  instantiateHtmlTemplate = function(parentNode, templateId, callback) {
    var node, templateContent;
    if (callback == null) {
      callback = identityFunction;
    }
    templateContent = document.querySelector(templateId).content;
    node = document.importNode(templateContent, true);
    parentNode.appendChild(node);
    return callback(parentNode.lastElementChild);
  };

  ref = "keydown keypress keyup".trim().split(/\s+/);
  for (i = 0, len = ref.length; i < len; i++) {
    event = ref[i];
    document.addEventListener(event, function(event) {
      var table;
      table = document.getElementById("keyTable");
      return instantiateHtmlTemplate(table, "#rowTemplate", function(element) {
        var type, modifiers, results;
        element.querySelector(".eventNumber").textContent = ++count;
        type = event.type;
        if (event.repeat) {
          type += ".repeat";
        }
        element.querySelector(".eventColumn").textContent = type;
        element.querySelector(".codeColumn").textContent = event.code;
        element.querySelector(".keyColumn").textContent = event.key;
        modifiers = [];
        if (event.ctrlKey) {
          modifiers.push("Control");
        }
        if (event.altKey) {
          modifiers.push("Alt");
        }
        if (event.metaKey) {
          modifiers.push("Meta");
        }
        element.querySelector(".modifierColumn").textContent = modifiers.join("-");
        results = [];
        while (n < table.rows.length) {
          results.push(table.deleteRow(1));
        }
        return results;
      });
    });
  }

}).call(this);
