// Generated by CoffeeScript 1.8.0
(function() {
  var root;

  root = typeof exports !== "undefined" && exports !== null ? exports : window;

  root.HandlerStack = (function() {
    function HandlerStack() {
      this.stack = [];
      this.counter = 0;
    }

    HandlerStack.prototype.genId = function() {
      return this.counter = ++this.counter & 0xffff;
    };

    HandlerStack.prototype.push = function(handler) {
      handler.id = this.genId();
      this.stack.push(handler);
      return handler.id;
    };

    HandlerStack.prototype.bubbleEvent = function(type, event) {
      var handler, i, passThrough;
      for (i = this.stack.length - 1; i >= 0; --i) {
        handler = this.stack[i];
        if (handler && handler[type]) {
          this.currentId = handler.id;
          passThrough = handler[type].call(this, event);
          if (!passThrough) {
            DomUtils.suppressEvent(event);
            return false;
          }
        }
      }
      return true;
    };

    HandlerStack.prototype.remove = function(id) {
      if (id == null) {
        id = this.currentId;
      }
      for (var ref = this.stack, i = ref.length - 1; i >= 0; --i) {
        if (ref[i].id === id) {
          ref.splice(i, 1);
          break;
        }
      }
    };

    return HandlerStack;

  })();

}).call(this);
