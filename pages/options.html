<!DOCTYPE html>
<html>
  <head>
    <title>Vimium++ Options</title>
    <link rel="stylesheet" type="text/css" href="options.css">
    <script type="text/javascript" defer="defer" src="options.js"></script>
    <script type="text/javascript" defer="defer" src="options_ext.js"></script>
    <script type="text/javascript" defer="defer" src="loader.js"></script>
  </head>

  <body>
    <div id="wrapper">
      <header>Vimium++ Options</header>
      <table id="options">
        <tr>
          <td class="caption">Excluded URLs<br/>and keys</td>
          <td>
            <div class="help">
              <div class="example">
                Wholly or partially disable Vimium++.  "<var>Patterns</var>" are URL regular expressions;
                additionally, "<kbd>*</kbd>" matches any zero or more characters.
                <br/><br/>
                If "<var>Keys</var>" is left empty, then Vimium++ will be wholly disabled.
                Otherwise, just the listed keys are disabled (they are passed through).
              </div>
            </div>
            <div>
               <div id="exclusionScrollBox">
                  <!-- Populated from exclusions.html by options.js. -->
               </div>
               <button id="exclusionAddButton">Add Rule</button>
            </div>
          </td>
        </tr>
        <tr>
          <td class="caption">Custom key<br/>mappings</td>
          <td id="mappingsHelp">
            <div class="help">
              <div class="example">
                Enter commands to remap your keys. Available commands:<br/>
                <pre id="exampleKeyMapping">
map f LinkHints.activateMode
unmap &lt;f2&gt;
unmapAll
" this is a comment
# this is also a comment</pre>
                <a id="showCommands">Show available commands.</a>
              </div>
            </div>
            <textarea id="keyMappings" data-model="Text"
              placeholder="# Insert your preferred key mappings here."></textarea>
          </td>
        </tr>
        <tr>
          <td class="caption">Custom search<br/>engines</td>
          <td>
              <div class="help">
                <div class="example">
                  Add search engine shortcuts to the Vomnibar. Format:<br/>
                  <pre>
a: http://a.com/?q=%s
js\:|JS: javascript:%S; Run JavaScript
MainName|c|c\:|C: \
    http://c.com/?q=%s&amp;space=\s\ space_end
# this is a comment</pre>
                  <var>%s</var> will be replaced with your search terms.<br/>
                </div>
              </div>
              <textarea id="searchEngines" data-model="NonEmptyText"></textarea>
              <div class="nonEmptyTextOption"></div>
          </td>
        </tr>
        <tr>
          <td class="caption">Default search<br/>engine</td>
          <td>
              <div class="help">
                <div class="example">
                  The default search engine ("~" to use it in Vomnibar)<br>
                  (e.g. "<kbd>http://www.baidu.com/s?ie=utf-8&wd=%s Baidu</kbd>").
                </div>
              </div>
              <input id="searchUrl" type="text" data-model="NonEmptyText" />
              <div class="nonEmptyTextOption"></div>
          </td>
        </tr>
        <tr>
          <td class="caption">New tab URL</td>
          <td>
              <div class="help">
                <div class="example">
                  "<kbd>pages/blank.html</kbd>" for a blank page. Chrome inner:<br />
                  "<kbd>chrome-search://local-ntp/local-ntp.html</kbd>".
                </div>
              </div>
              <input id="newTabUrl" type="text" data-model="NonEmptyText" />
              <div class="nonEmptyTextOption"></div>
          </td>
        </tr>
        <tbody id="advancedOptions" style="display: none;">
          <tr>
            <td colspan="2"><header>Advanced Options</header></td>
          </tr>
          <tr>
            <td class="caption">Scroll step size</td>
            <td>
              <div class="help">
                <div class="example">
                  The size for basic long movements (short = * 0.6).
                </div>
              </div>
              <input id="scrollStepSize" type="number" data-model="Number" />px
            </td>
          </tr>
          <tr>
            <td class="caption">Characters used<br/> for link hints</td>
            <td>
              <div class="help">
                <div class="example">
                  The characters placed next to each link after typing "f" to enter link-hint mode.
                </div>
              </div>
              <input id="linkHintCharacters" type="text" data-model="NonEmptyText" />
              <div class="nonEmptyTextOption"></div>
            </td>
          </tr>
          <tr>
            <td class="caption" rowspan="2">Miscellaneous<br/>options</td>
            <td class="booleanOption">
              <div class="help">
                <div class="example">
                  The browser icon shows current page status if this is enabled, or else keeps light.
                </div>
              </div>
              <label>
                <input id="showActionIcon" type="checkbox" data-model="CheckBox" />
                Use the browser action icon on the top right
              </label>
            </td>
          </tr>
          <tr>
            <td class="booleanOption">
              <label>
                <input id="smoothScroll" type="checkbox" data-model="CheckBox" />
                Use smooth scrolling
              </label>
            </td>
          </tr>
          <tr>
            <td class="caption"></td>
            <td class="booleanOption">
              <div class="help">
                <div class="example">
                  Note: bulit-in key mappings use English keyboard layout only.
                </div>
              </div>
              <label>
                <input id="enableDefaultMappings" type="checkbox" data-model="CheckBox" />
                Enable built-in key mappings
              </label>
            </td>
          </tr>
          <tr>
            <td class="caption"></td>
            <td class="booleanOption">
              <div class="help">
                <div class="example">
                  Note: Link-hint mode will work slowly if selected. <br>
                  Press <kbd>&lt;F2&gt;</kbd> to toggle it temporarily.
                </div>
              </div>
              <label>
                <input id="deepHints" type="checkbox" data-model="CheckBox" />
                Match links even in shadow DOMs by default
              </label>
            </td>
          </tr>
          <tr>
            <td class="caption"></td>
            <td class="booleanOption">
              <div class="help">
                <div class="example">
                  This can recognize much more links - maybe more than those you want.
                  <kbd>&lt;Shift-F2&gt;</kbd> to toggle it.
                </div>
              </div>
              <label>
                <input id="isClickListened" type="checkbox" data-model="CheckBox" />
                Link-hint mode will check nodes' <var>click</var> listeners.
              </label>
            </td>
          </tr>
          <tr>
            <td class="caption"></td>
            <td class="booleanOption">
              <div class="help">
                <div class="example">
                  Prevent pages from focusing an input on load (e.g. Google, Bing, etc.).
                </div>
              </div>
              <label>
                <input id="grabBackFocus" type="checkbox" data-model="CheckBox" />
                Don't let pages steal the focus on load
              </label>
            </td>
          </tr>
          <tr>
            <td class="caption"></td>
            <td class="booleanOption">
              <div class="help">
                <div class="example">
                  When enabled, the HUD will not be displayed.
                </div>
              </div>
              <label>
                <input id="hideHud" type="checkbox" data-model="CheckBox" />
                Hide the Heads Up Display (HUD)
              </label>
            </td>
          </tr>
          <tr>
            <td class="caption"></td>
            <td class="booleanOption">
              <div class="help">
                <div class="example">
                  Switch back to plain find mode by using the <kbd>\R</kbd> escape sequence.
                </div>
              </div>
              <label>
                <input id="regexFindMode" type="checkbox" data-model="CheckBox" />
                Treat find queries as regular expressions
              </label>
            </td>
          </tr>
          <tr>
            <td class="caption"></td>
            <td class="booleanOption">
              <div class="help">
                <div class="example">
                  Need to reload Vimium++.
                </div>
              </div>
              <label>
                <input id="vimSync" type="checkbox" data-model="CheckBox" />
                Sync settings using with your current Google account
              </label>
            </td>
          </tr>
          <tr>
            <td class="caption">Previous patterns</td>
            <td>
              <div class="help">
                <div class="example">
                  The "navigate to previous page" command uses these patterns to find the link to follow.
                </div>
              </div>
              <input id="previousPatterns" type="text" data-model="NonEmptyText" />
              <div class="nonEmptyTextOption"></div>
            </td>
          </tr>
          <tr>
            <td class="caption">Next patterns</td>
            <td>
              <div class="help">
                <div class="example">
                  The "navigate to next page" command uses these patterns to find the link to follow.
                </div>
              </div>
              <input id="nextPatterns" type="text" data-model="NonEmptyText" />
              <div class="nonEmptyTextOption"></div>
            </td>
          </tr>
          <tr>
            <td class="caption">Custom CSS</td>
            <td>
              <div class="help">
                <div class="example">
                  To style Vimium++ nodes, use selectors such as "<kbd>.S</kbd>" and "<kbd>.LH &gt; .MC</kbd>".<br/>
                  <br/>
                  These styles are used in addition to and take precedence over Vimium++'s
                  default styles.
                </div>
              </div>
              <textarea id="userDefinedCss" class="code" data-model="Text"></textarea>
            </td>
          </tr>
          <tr>
            <td class="caption">Custom outer CSS</td>
            <td>
              <div class="help">
                <div class="example">
                  To style global nodes, use selectors such as "<kbd>a</kbd>" and "<kbd>img</kbd>".<br/>
                  <br/>
                  These styles are used in addition to and take precedence over all pages' style.
                </div>
              </div>
              <textarea id="userDefinedOuterCss" class="code" data-model="Text"></textarea>
            </td>
          </tr>
          <tr>
            <td class="caption">Keyboard settings</td>
            <td>
              <div class="help">
                <div class="example">
                  Your keyboard delay settings on this computer. Format:<br>
                  <kbd>[ &lt;delay (ms)&gt;, &lt;repeat period&gt; ]</kbd> (e.g. <kbd>[ 500, 33 ]</kbd>)
                </div>
              </div>
              <input id="keyboard" type="text" data-model="JSON" />
              <div class="nonEmptyTextOption"></div>
            </td>
          </tr>
          <tr>
            <td class="caption">One more language<br>support</td>
            <td>
              <div class="help">
                <div class="example">
                  Tell your language words to recognize bookmarks and encoded urls. Chinese support is built-in:<br>
                  <kbd>{ "urlCode":"gbk",<br>
                  &nbsp;"bookmarkTypes":["&#20070;&#31614;&#26639;","&#20854;&#20182;&#20070;&#31614;","&#31227;&#21160;&#20070;&#31614;"]<br>
                  }</kbd>
                </div>
              </div>
              <textarea id="UILanguage" class="code" data-model="JSON"></textarea>
              <div class="nonEmptyTextOption"></div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Some extra space which is hidden underneath the footer. -->
    <div id="endSpace"></div>

    <div id="footer">
      <div id="footerWrapper">
        <table id="footerTable">
          <tr>
            <td id="footerTableData">
              <span id="helpText">
                Type <strong>?</strong> to show the help dialog.
                <br/>
                Type <strong>Ctrl-Enter</strong> to save <i>all</i> options.
              </span>
            </td>
            <td id="saveOptionsTableData">
							<button id="advancedOptionsButton">Show Advanced Options</button>
              <button id="saveOptions" disabled="disabled">No Changes</button>
              <div style="position: absolute; margin-left: 20px; display: inline-block;">
                <input  id="settingsFile" type="file" style="display: none;" accept=".json,application/json" />
                <button id="importButton">Import Settings</button>
                <button id="exportButton">Export Settings</button>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </body>
</html>
